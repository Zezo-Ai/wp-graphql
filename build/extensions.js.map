{"version":3,"file":"extensions.js","mappings":";;;;;;;;;;;;;;;;;;;;AAA4C;AACP;AACC;;AAEtC;AACA;AACA;AACA;AACA;AACA,MAAMI,UAAU,GAAGA,CAAA,KAAM;EACrB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGL,+CAAQ,CAAC,EAAE,CAAC;EAEhDD,gDAAS,CAAC,MAAM;IACZ,IAAIO,MAAM,CAACC,mBAAmB,IAAID,MAAM,CAACC,mBAAmB,CAACH,UAAU,EAAE;MACrEC,aAAa,CAACC,MAAM,CAACC,mBAAmB,CAACH,UAAU,CAAC;IACxD;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OACII,oDAAA;IAAKC,SAAS,EAAC;EAAa,GACxBD,oDAAA;IAAKC,SAAS,EAAC;EAAc,GACxBL,UAAU,CAACM,GAAG,CAAEC,SAAS,IACtBH,oDAAA,CAACN,mDAAU;IAACU,GAAG,EAAED,SAAS,CAACE,UAAW;IAACC,MAAM,EAAEH;EAAU,CAAE,CAC9D,CACA,CACJ,CAAC;AAEd,CAAC;AAED,iEAAeR,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;AC7BY;AAC2B;AACP;AACP;AACP;AAE3C,MAAMD,UAAU,GAAGA,CAAC;EAAEY;AAAO,CAAC,KAAK;EAC/B,MAAM;IAAEM,UAAU;IAAEC,UAAU;IAAEC,MAAM;IAAEC,KAAK;IAAEC,aAAa;IAAEC;EAAe,CAAC,GAAGP,6DAAgB,CAACJ,MAAM,CAACD,UAAU,EAAEC,MAAM,CAACY,WAAW,CAAC;EACxI,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG5B,4DAAQ,CAACc,MAAM,CAACe,SAAS,CAAC;EAChE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,4DAAQ,CAACc,MAAM,CAACkB,MAAM,CAAC;EACvD,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGlC,4DAAQ,CAAC,IAAI,CAAC;EAE1DD,6DAAS,CAAC,MAAM;IACZ6B,cAAc,CAACd,MAAM,CAACe,SAAS,CAAC;IAChCE,WAAW,CAACjB,MAAM,CAACkB,MAAM,CAAC;EAC9B,CAAC,EAAE,CAAClB,MAAM,CAAC,CAAC;EAEZ,MAAMqB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAACR,WAAW,EAAE;MACd,MAAMH,aAAa,CAAC,CAAC;IACzB,CAAC,MAAM;MACH,MAAMC,cAAc,CAAC,CAAC;IAC1B;IAEAG,cAAc,CAAC,IAAI,CAAC;IACpBG,WAAW,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMK,IAAI,GAAG,IAAIC,GAAG,CAACvB,MAAM,CAACD,UAAU,CAAC,CAACuB,IAAI;EAC5C,MAAM;IAAEE,UAAU;IAAEC;EAAe,CAAC,GAAGpB,wDAAgB,CAACiB,IAAI,EAAEtB,MAAM,CAACD,UAAU,EAAEc,WAAW,EAAEG,QAAQ,EAAEV,UAAU,EAAEC,UAAU,CAAC;EAE/H,OACIb,oDAAA;IAAKC,SAAS,EAAC;EAAa,GACxBD,oDAAA;IAAKC,SAAS,EAAC;EAAiB,GAC5BD,oDAAA;IAAKC,SAAS,EAAC;EAAkB,GAC7BD,oDAAA,aAAKM,MAAM,CAAC0B,IAAS,CAAC,EACrB1B,MAAM,CAAC2B,UAAU,IAAIjC,oDAAA;IAAIC,SAAS,EAAC;EAAqB,GAAC,gBAAkB,CAC3E,CAAC,EACND,oDAAA;IAAKC,SAAS,EAAC;EAAc,GACzBD,oDAAA;IAAIC,SAAS,EAAC;EAAuB,GAChC2B,IAAI,CAACM,QAAQ,CAAC,eAAe,CAAC,IAC3BlC,oDAAA,aACIA,oDAAA;IACImC,IAAI,EAAC,QAAQ;IACblC,SAAS,EAAG,UAASqB,QAAQ,GAAG,iBAAiB,GAAG,gBAAiB,EAAE;IACvEc,QAAQ,EAAEL,cAAe;IACzBM,OAAO,EAAEV;EAAkB,GAE1BG,UAAU,EACV,CAAClB,UAAU,IAAIC,UAAU,KAAKb,oDAAA,CAACQ,0DAAO,MAAE,CACrC,CACR,CACP,EACAoB,IAAI,CAACM,QAAQ,CAAC,YAAY,CAAC,IACxBlC,oDAAA,aACIA,oDAAA;IACIsC,IAAI,EAAEhC,MAAM,CAACD,UAAW;IACxBkC,MAAM,EAAC,QAAQ;IACfC,GAAG,EAAC,qBAAqB;IACzBvC,SAAS,EAAC;EAAyB,GAElCR,mDAAE,CAAC,gBAAgB,EAAE,YAAY,CACnC,CACH,CACP,EACAa,MAAM,CAACmC,YAAY,IAChBzC,oDAAA,aACIA,oDAAA;IACIsC,IAAI,EAAEhC,MAAM,CAACmC,YAAa;IAC1BF,MAAM,EAAC,QAAQ;IACfC,GAAG,EAAC,qBAAqB;IACzBvC,SAAS,EAAC;EAAoC,GAE7CR,mDAAE,CAAC,aAAa,EAAE,YAAY,CAChC,CACH,CACP,EACAa,MAAM,CAACoC,aAAa,IACjB1C,oDAAA,aACIA,oDAAA;IAAGsC,IAAI,EAAEhC,MAAM,CAACoC;EAAc,GAAEjD,mDAAE,CAAC,UAAU,EAAE,YAAY,CAAK,CAChE,CAER,CACH,CAAC,EACNO,oDAAA;IAAKC,SAAS,EAAC;EAAyB,GACpCD,oDAAA,YAAIM,MAAM,CAACqC,WAAe,CACzB,CACJ,CAAC,EACL5B,KAAK,IAAIU,cAAc,IACpBzB,oDAAA,CAACS,yDAAM;IACHK,MAAM,EAAC,OAAO;IACd8B,aAAa;IACbC,QAAQ,EAAEA,CAAA,KAAMnB,iBAAiB,CAAC,KAAK;EAAE,GAExCX,KACG,CAEX,CAAC;AAEd,CAAC;AAED,iEAAerB,UAAU;;;;;;;;;;;;;;;;;;;;ACrGQ;AACI;AACO;AAE5C,MAAMgB,gBAAgB,GAAGA,CAACqC,SAAS,EAAEC,UAAU,KAAK;EAChD,MAAM,CAACpC,UAAU,EAAEqC,aAAa,CAAC,GAAGzD,+CAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACqB,UAAU,EAAEqC,aAAa,CAAC,GAAG1D,+CAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACsB,MAAM,EAAEqC,SAAS,CAAC,GAAG3D,+CAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACuB,KAAK,EAAEqC,QAAQ,CAAC,GAAG5D,+CAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMwB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9BiC,aAAa,CAAC,IAAI,CAAC;IACnBE,SAAS,CAAC1D,mDAAE,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;IAC5C2D,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAIC,IAAI,GAAG,IAAIxB,GAAG,CAACkB,SAAS,CAAC,CAACO,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,GAAG,CAAC,CAAC;IAEvE,IAAI;MACA,MAAMC,aAAa,GAAG,MAAMb,2DAAQ,CAAC;QACjCc,IAAI,EAAE,gBAAgB;QACtBC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UACFT,IAAI,EAAEA,IAAI;UACVvC,MAAM,EAAE;QACZ,CAAC;QACDiD,OAAO,EAAE;UACL,YAAY,EAAEhE,mBAAmB,CAACiE;QACtC;MACJ,CAAC,CAAC;MAEF,IAAIL,aAAa,CAAC7C,MAAM,KAAK,UAAU,EAAE;QACrC,MAAM,IAAImD,KAAK,CAACxE,mDAAE,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;MAC5D;MAEA,MAAMwB,cAAc,CAAC+B,UAAU,CAAC;IACpC,CAAC,CAAC,OAAOkB,GAAG,EAAE;MACV,IAAIA,GAAG,CAACC,OAAO,CAACjC,QAAQ,CAAC,mCAAmC,CAAC,EAAE;QAC3D,MAAMjB,cAAc,CAAC+B,UAAU,CAAC;MACpC,CAAC,MAAM;QACHG,SAAS,CAAC1D,mDAAE,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;QAClD2D,QAAQ,CAACc,GAAG,CAACC,OAAO,IAAI1E,mDAAE,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;QAChEwD,aAAa,CAAC,KAAK,CAAC;MACxB;IACJ;EACJ,CAAC;EAED,MAAMhC,cAAc,GAAG,MAAAA,CAAO2C,IAAI,GAAG,IAAI,KAAK;IAC1CV,aAAa,CAAC,IAAI,CAAC;IACnBC,SAAS,CAAC1D,mDAAE,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;IAC5C2D,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI,CAACQ,IAAI,EAAE;MACP,IAAIP,IAAI,GAAG,IAAIxB,GAAG,CAACkB,SAAS,CAAC,CAACO,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,GAAG,CAAC,CAAC;MACvEE,IAAI,GAAI,GAAEP,IAAK,IAAGA,IAAK,MAAK;IAChC;IAEA,IAAI;MACA,MAAMe,cAAc,GAAG,MAAMtB,2DAAQ,CAAC;QAClCc,IAAI,EAAG,kBAAiBA,IAAK,EAAC;QAC9BC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE;UAAEhD,MAAM,EAAE;QAAS,CAAC;QAC1BiD,OAAO,EAAE;UACL,YAAY,EAAEhE,mBAAmB,CAACiE;QACtC;MACJ,CAAC,CAAC;MAEF,MAAMK,YAAY,GAAGD,cAAc;MAEnC,IAAIC,YAAY,CAACvD,MAAM,KAAK,QAAQ,EAAE;QAClCqC,SAAS,CAAC1D,mDAAE,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QACrCK,MAAM,CAACC,mBAAmB,CAACH,UAAU,GAAGE,MAAM,CAACC,mBAAmB,CAACH,UAAU,CAACM,GAAG,CAAEC,SAAS,IACxFA,SAAS,CAACE,UAAU,KAAK0C,SAAS,GAAG;UAAE,GAAG5C,SAAS;UAAEkB,SAAS,EAAE,IAAI;UAAEG,MAAM,EAAE;QAAK,CAAC,GAAGrB,SAC3F,CAAC;MACL,CAAC,MAAM,IAAIkE,YAAY,CAACF,OAAO,CAACjC,QAAQ,CAAC,4BAA4B,CAAC,EAAE;QACpE;QACAiB,SAAS,CAAC1D,mDAAE,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QACrC2D,QAAQ,CAAC,EAAE,CAAC;QACZtD,MAAM,CAACC,mBAAmB,CAACH,UAAU,GAAGE,MAAM,CAACC,mBAAmB,CAACH,UAAU,CAACM,GAAG,CAAEC,SAAS,IACxFA,SAAS,CAACE,UAAU,KAAK0C,SAAS,GAAG;UAAE,GAAG5C,SAAS;UAAEkB,SAAS,EAAE,IAAI;UAAEG,MAAM,EAAE;QAAK,CAAC,GAAGrB,SAC3F,CAAC;MACL,CAAC,MAAM;QACH,MAAM,IAAI8D,KAAK,CAACxE,mDAAE,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC;MAC1D;IACJ,CAAC,CAAC,OAAOyE,GAAG,EAAE;MACVf,SAAS,CAAC1D,mDAAE,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC;MAChD2D,QAAQ,CAACc,GAAG,CAACC,OAAO,IAAI1E,mDAAE,CAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC;IAClE,CAAC,SAAS;MACNwD,aAAa,CAAC,KAAK,CAAC;MACpBC,aAAa,CAAC,KAAK,CAAC;IACxB;EACJ,CAAC;EAED,OAAO;IAAEtC,UAAU;IAAEC,UAAU;IAAEC,MAAM;IAAEC,KAAK;IAAEC,aAAa;IAAEC;EAAe,CAAC;AACnF,CAAC;AAED,iEAAeP,gBAAgB;;;;;;;;;;;;;;;;AC/FM;AAE9B,MAAMC,gBAAgB,GAAGA,CAACiB,IAAI,EAAEvB,UAAU,EAAEc,WAAW,EAAEG,QAAQ,EAAEV,UAAU,EAAEC,UAAU,EAAEI,cAAc,KAAK;EACpH,IAAIa,UAAU;EACd,IAAIC,cAAc,GAAG,KAAK;EAC1B,IAAIuC,aAAa;EAEjB,IAAI1C,IAAI,CAACM,QAAQ,CAAC,YAAY,CAAC,EAAE;IAChCJ,UAAU,GAAGrC,mDAAE,CAAE,gBAAgB,EAAE,YAAa,CAAC;IACjD6E,aAAa,GAAGA,CAAA,KAAMxE,MAAM,CAACyE,IAAI,CAAClE,UAAU,EAAE,QAAQ,CAAC;EACxD,CAAC,MAAM,IAAIuB,IAAI,CAACM,QAAQ,CAAC,eAAe,CAAC,EAAE;IAC1CJ,UAAU,GAAGrC,mDAAE,CAAE,mBAAmB,EAAE,YAAa,CAAC;IACpD6E,aAAa,GAAGA,CAAA,KAAMxE,MAAM,CAACyE,IAAI,CAAClE,UAAU,EAAE,QAAQ,CAAC;EACxD,CAAC,MAAM,IAAIuB,IAAI,CAACM,QAAQ,CAAC,YAAY,CAAC,EAAE;IACvCJ,UAAU,GAAGrC,mDAAE,CAAE,gBAAgB,EAAE,YAAa,CAAC;IACjD6E,aAAa,GAAGA,CAAA,KAAMxE,MAAM,CAACyE,IAAI,CAAClE,UAAU,EAAE,QAAQ,CAAC;EACxD,CAAC,MAAM,IAAIO,UAAU,EAAE;IACtBkB,UAAU,GAAGrC,mDAAE,CAAE,eAAe,EAAE,YAAa,CAAC;IAChDsC,cAAc,GAAG,IAAI;EACtB,CAAC,MAAM,IAAIlB,UAAU,EAAE;IACtBiB,UAAU,GAAGrC,mDAAE,CAAE,eAAe,EAAE,YAAa,CAAC;IAChDsC,cAAc,GAAG,IAAI;EACtB,CAAC,MAAM,IAAIT,QAAQ,EAAE;IACpBQ,UAAU,GAAGrC,mDAAE,CAAE,QAAQ,EAAE,YAAa,CAAC;IACzCsC,cAAc,GAAG,IAAI;EACtB,CAAC,MAAM,IAAIZ,WAAW,EAAE;IACvBW,UAAU,GAAGrC,mDAAE,CAAE,UAAU,EAAE,YAAa,CAAC;IAC3C6E,aAAa,GAAGrD,cAAc;EAC/B,CAAC,MAAM,IAAIW,IAAI,CAACM,QAAQ,CAAC,eAAe,CAAC,EAAE;IAC1CJ,UAAU,GAAGrC,mDAAE,CAAE,oBAAoB,EAAE,YAAa,CAAC;IACrD6E,aAAa,GAAGrD,cAAc;EAC/B,CAAC,MAAM;IACNa,UAAU,GAAGrC,mDAAE,CAAE,aAAa,EAAE,YAAa,CAAC;IAC9C6E,aAAa,GAAGA,CAAA,KAAMxE,MAAM,CAACyE,IAAI,CAAClE,UAAU,EAAE,QAAQ,CAAC;EACxD;EAEA,OAAO;IAAEyB,UAAU;IAAEC,cAAc;IAAEuC;EAAc,CAAC;AACrD,CAAC;;;;;;;;;;;ACrCD;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACN+D;AACzB;AAChB;AAEtBG,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAChD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,cAAc,CAAC,sBAAsB,CAAC;EACjE,IAAID,SAAS,EAAE;IACX,MAAME,IAAI,GAAGL,8DAAU,CAACG,SAAS,CAAC;IAClCE,IAAI,CAACC,MAAM,CAAC9E,iEAAa,CAACL,mDAAU,CAAC,CAAC;EAC1C;AACJ,CAAC,CAAC,C","sources":["webpack://wp-graphql/./packages/extensions/Extensions.js","webpack://wp-graphql/./packages/extensions/PluginCard.js","webpack://wp-graphql/./packages/extensions/useInstallPlugin.js","webpack://wp-graphql/./packages/extensions/utils.js","webpack://wp-graphql/./packages/extensions/index.scss","webpack://wp-graphql/external window \"React\"","webpack://wp-graphql/external window [\"wp\",\"apiFetch\"]","webpack://wp-graphql/external window [\"wp\",\"components\"]","webpack://wp-graphql/external window [\"wp\",\"element\"]","webpack://wp-graphql/external window [\"wp\",\"i18n\"]","webpack://wp-graphql/webpack/bootstrap","webpack://wp-graphql/webpack/runtime/compat get default export","webpack://wp-graphql/webpack/runtime/define property getters","webpack://wp-graphql/webpack/runtime/hasOwnProperty shorthand","webpack://wp-graphql/webpack/runtime/make namespace object","webpack://wp-graphql/./packages/extensions/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport PluginCard from './PluginCard';\n\n/**\n * Extensions component to display the list of WPGraphQL extensions.\n *\n * @return {JSX.Element} The Extensions component.\n */\nconst Extensions = () => {\n    const [extensions, setExtensions] = useState([]);\n\n    useEffect(() => {\n        if (window.wpgraphqlExtensions && window.wpgraphqlExtensions.extensions) {\n            setExtensions(window.wpgraphqlExtensions.extensions);\n        }\n    }, []);\n\n    return (\n        <div className=\"wp-clearfix\">\n            <div className=\"plugin-cards\">\n                {extensions.map((extension) => (\n                    <PluginCard key={extension.plugin_url} plugin={extension} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Extensions;\n","import { __ } from '@wordpress/i18n';\nimport { Button, Spinner, Notice } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport useInstallPlugin from './useInstallPlugin';\nimport { getButtonDetails } from './utils';\n\nconst PluginCard = ({ plugin }) => {\n    const { installing, activating, status, error, installPlugin, activatePlugin } = useInstallPlugin(plugin.plugin_url, plugin.plugin_path);\n    const [isInstalled, setIsInstalled] = useState(plugin.installed);\n    const [isActive, setIsActive] = useState(plugin.active);\n    const [isErrorVisible, setIsErrorVisible] = useState(true);\n\n    useEffect(() => {\n        setIsInstalled(plugin.installed);\n        setIsActive(plugin.active);\n    }, [plugin]);\n\n    const handleButtonClick = async () => {\n        if (!isInstalled) {\n            await installPlugin();\n        } else {\n            await activatePlugin();\n        }\n\n        setIsInstalled(true);\n        setIsActive(true);\n    };\n\n    const host = new URL(plugin.plugin_url).host;\n    const { buttonText, buttonDisabled } = getButtonDetails(host, plugin.plugin_url, isInstalled, isActive, installing, activating);\n\n    return (\n        <div className=\"plugin-card\">\n            <div className=\"plugin-card-top\">\n                <div className=\"name column-name\">\n                    <h2>{plugin.name}</h2>\n                    {plugin.experiment && <em className=\"plugin-experimental\">(experimental)</em>}\n                </div>\n                <div className=\"action-links\">\n                    <ul className=\"plugin-action-buttons\">\n                        {host.includes('wordpress.org') && (\n                            <li>\n                                <button\n                                    type=\"button\"\n                                    className={`button ${isActive ? 'button-disabled' : 'button-primary'}`}\n                                    disabled={buttonDisabled}\n                                    onClick={handleButtonClick}\n                                >\n                                    {buttonText}\n                                    {(installing || activating) && <Spinner />}\n                                </button>\n                            </li>\n                        )}\n                        {host.includes('github.com') && (\n                            <li>\n                                <a\n                                    href={plugin.plugin_url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"button button-secondary\"\n                                >\n                                    {__('View on GitHub', 'wp-graphql')}\n                                </a>\n                            </li>\n                        )}\n                        {plugin.support_link && (\n                            <li>\n                                <a\n                                    href={plugin.support_link}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"thickbox open-plugin-details-modal\"\n                                >\n                                    {__('Get Support', 'wp-graphql')}\n                                </a>\n                            </li>\n                        )}\n                        {plugin.settings_link && (\n                            <li>\n                                <a href={plugin.settings_link}>{__('Settings', 'wp-graphql')}</a>\n                            </li>\n                        )}\n                    </ul>\n                </div>\n                <div className=\"desc column-description\">\n                    <p>{plugin.description}</p>\n                </div>\n            </div>\n            {error && isErrorVisible && (\n                <Notice\n                    status=\"error\"\n                    isDismissible\n                    onRemove={() => setIsErrorVisible(false)}\n                >\n                    {error}\n                </Notice>\n            )}\n        </div>\n    );\n};\n\nexport default PluginCard;\n","import { useState } from 'react';\nimport { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst useInstallPlugin = (pluginUrl, pluginPath) => {\n    const [installing, setInstalling] = useState(false);\n    const [activating, setActivating] = useState(false);\n    const [status, setStatus] = useState('');\n    const [error, setError] = useState('');\n\n    const installPlugin = async () => {\n        setInstalling(true);\n        setStatus(__('Installing...', 'wp-graphql'));\n        setError('');\n\n        let slug = new URL(pluginUrl).pathname.split('/').filter(Boolean).pop();\n\n        try {\n            const installResult = await apiFetch({\n                path: '/wp/v2/plugins',\n                method: 'POST',\n                data: {\n                    slug: slug,\n                    status: 'inactive',\n                },\n                headers: {\n                    'X-WP-Nonce': wpgraphqlExtensions.nonce,\n                },\n            });\n\n            if (installResult.status !== 'inactive') {\n                throw new Error(__('Installation failed', 'wp-graphql'));\n            }\n\n            await activatePlugin(pluginPath);\n        } catch (err) {\n            if (err.message.includes('destination folder already exists')) {\n                await activatePlugin(pluginPath);\n            } else {\n                setStatus(__('Installation failed', 'wp-graphql'));\n                setError(err.message || __('Installation failed', 'wp-graphql'));\n                setInstalling(false);\n            }\n        }\n    };\n\n    const activatePlugin = async (path = null) => {\n        setActivating(true);\n        setStatus(__('Activating...', 'wp-graphql'));\n        setError('');\n\n        if (!path) {\n            let slug = new URL(pluginUrl).pathname.split('/').filter(Boolean).pop();\n            path = `${slug}/${slug}.php`;\n        }\n\n        try {\n            const activateResult = await apiFetch({\n                path: `/wp/v2/plugins/${path}`,\n                method: 'PUT',\n                data: { status: 'active' },\n                headers: {\n                    'X-WP-Nonce': wpgraphqlExtensions.nonce,\n                },\n            });\n\n            const jsonResponse = activateResult;\n\n            if (jsonResponse.status === 'active') {\n                setStatus(__('Active', 'wp-graphql'));\n                window.wpgraphqlExtensions.extensions = window.wpgraphqlExtensions.extensions.map((extension) =>\n                    extension.plugin_url === pluginUrl ? { ...extension, installed: true, active: true } : extension\n                );\n            } else if (jsonResponse.message.includes('Plugin file does not exist')) {\n                // The plugin is already activated\n                setStatus(__('Active', 'wp-graphql'));\n                setError('');\n                window.wpgraphqlExtensions.extensions = window.wpgraphqlExtensions.extensions.map((extension) =>\n                    extension.plugin_url === pluginUrl ? { ...extension, installed: true, active: true } : extension\n                );\n            } else {\n                throw new Error(__('Activation failed', 'wp-graphql'));\n            }\n        } catch (err) {\n            setStatus(__('Activation failed', 'wp-graphql'));\n            setError(err.message || __('Activation failed', 'wp-graphql'));\n        } finally {\n            setInstalling(false);\n            setActivating(false);\n        }\n    };\n\n    return { installing, activating, status, error, installPlugin, activatePlugin };\n};\n\nexport default useInstallPlugin;\n","import { __ } from '@wordpress/i18n';\n\nexport const getButtonDetails = (host, plugin_url, isInstalled, isActive, installing, activating, activatePlugin) => {\n\tlet buttonText;\n\tlet buttonDisabled = false;\n\tlet buttonOnClick;\n\n\tif (host.includes('github.com')) {\n\t\tbuttonText = __( 'View on GitHub', 'wp-graphql' );\n\t\tbuttonOnClick = () => window.open(plugin_url, '_blank');\n\t} else if (host.includes('bitbucket.org')) {\n\t\tbuttonText = __( 'View on Bitbucket', 'wp-graphql' );\n\t\tbuttonOnClick = () => window.open(plugin_url, '_blank');\n\t} else if (host.includes('gitlab.com')) {\n\t\tbuttonText = __( 'View on GitLab', 'wp-graphql' );\n\t\tbuttonOnClick = () => window.open(plugin_url, '_blank');\n\t} else if (installing) {\n\t\tbuttonText = __( 'Installing...', 'wp-graphql' );\n\t\tbuttonDisabled = true;\n\t} else if (activating) {\n\t\tbuttonText = __( 'Activating...', 'wp-graphql' );\n\t\tbuttonDisabled = true;\n\t} else if (isActive) {\n\t\tbuttonText = __( 'Active', 'wp-graphql' );\n\t\tbuttonDisabled = true;\n\t} else if (isInstalled) {\n\t\tbuttonText = __( 'Activate', 'wp-graphql' );\n\t\tbuttonOnClick = activatePlugin;\n\t} else if (host.includes('wordpress.org')) {\n\t\tbuttonText = __( 'Install & Activate', 'wp-graphql' );\n\t\tbuttonOnClick = activatePlugin;\n\t} else {\n\t\tbuttonText = __( 'View Plugin', 'wp-graphql' );\n\t\tbuttonOnClick = () => window.open(plugin_url, '_blank');\n\t}\n\n\treturn { buttonText, buttonDisabled, buttonOnClick };\n};\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot, createElement } from '@wordpress/element';\nimport Extensions from './Extensions';\nimport './index.scss';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const container = document.getElementById('wpgraphql-extensions');\n    if (container) {\n        const root = createRoot(container);\n        root.render(createElement(Extensions));\n    }\n});\n"],"names":["useEffect","useState","__","PluginCard","Extensions","extensions","setExtensions","window","wpgraphqlExtensions","createElement","className","map","extension","key","plugin_url","plugin","Button","Spinner","Notice","useInstallPlugin","getButtonDetails","installing","activating","status","error","installPlugin","activatePlugin","plugin_path","isInstalled","setIsInstalled","installed","isActive","setIsActive","active","isErrorVisible","setIsErrorVisible","handleButtonClick","host","URL","buttonText","buttonDisabled","name","experiment","includes","type","disabled","onClick","href","target","rel","support_link","settings_link","description","isDismissible","onRemove","apiFetch","pluginUrl","pluginPath","setInstalling","setActivating","setStatus","setError","slug","pathname","split","filter","Boolean","pop","installResult","path","method","data","headers","nonce","Error","err","message","activateResult","jsonResponse","buttonOnClick","open","createRoot","document","addEventListener","container","getElementById","root","render"],"sourceRoot":""}